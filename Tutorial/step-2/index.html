
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Advanced Simulation kit based on Finite Element Method.">
      
      
        <meta name="author" content="Yang Bai">
      
      
        <link rel="canonical" href="https://matmechlab.github.io/AsFem/Tutorial/step-2/">
      
      
        <link rel="prev" href="../step-1/">
      
      
        <link rel="next" href="../step-3/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.6">
    
    
      
        <title>Step-2 - AsFem</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AsFem" class="md-header__button md-logo" aria-label="AsFem" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AsFem
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Step-2
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/MatMechLab/AsFem" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    MatMechLab/AsFem
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AsFem" class="md-nav__button md-logo" aria-label="AsFem" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    AsFem
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/MatMechLab/AsFem" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    MatMechLab/AsFem
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step-0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step-1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Step-2
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step-4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step-5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step-6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step-7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step-8
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PhaseField
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            PhaseField
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Examples/PhaseFieldFracture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fracture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Document
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Document
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-mesh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mesh block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-dofs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dofs block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-elmts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    elmts block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-mates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mate block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-bcs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bcs block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-ics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ics block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-qpoint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    qpoint block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-projection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    projection block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-nonlinearsolver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nonlinear solver block
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Document/block-timestepping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    timestepping block
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="introduction">Introduction</h1>
<p>In the first step of our analysis, which is detailed in <a href="https://m3group.github.io/AsFem/Tutorial/step-1/">step-1</a>, we defined the mesh. However, additional information is required to conduct a basic finite element analysis. As such, we will proceed by defining the degrees of freedom (DoFs) and the model in this step. Finally, we will apply the relevant boundary conditions to obtain the desired solution.</p>
<h1 id="the-poisson-equation">The poisson equation</h1>
<p>The issue we want to solve is the linear Poisson equation that reads as follows:
$$
\begin{equation}
\sigma\nabla^{2}\phi=f
\label{eq:poisson}
\tag{1}
\end{equation}
$$
where <span class="arithmatex">\(\sigma\)</span> and <span class="arithmatex">\(f\)</span> denote the model's coefficients. Below are the related boundary conditions:
$$
\begin{equation}
\sigma\nabla\phi\cdot\vec{n}=0\qquad\mathrm{on}\quad\partial\Omega_{N}
\label{eq:neumann}
\tag{2}
\end{equation}
$$
and
$$
\begin{equation}
\phi=\phi_{g}\qquad\mathrm{on}\quad\partial\Omega_{D}
\label{eq:dirichlet}
\tag{3}
\end{equation}
$$
where the <em>Dirichlet</em> boundary condition and <em>Neumann</em> boundary condition are represented by the subscripts <span class="arithmatex">\(D\)</span> and <span class="arithmatex">\(N\)</span>.</p>
<h1 id="define-the-degree-of-freedom-dof">Define the degree of freedom (DoF)</h1>
<p>The degree of freedom (DoF) or the degrees of freedom (DoFs) can be used to define the name of each DoF and also to apply the necessary boundary conditions (<code>[bcs]</code>), elements (<code>[elmts]</code>), and so on. The <code>[dofs]</code> block looks like below:</p>
<p>The degrees of freedom (DoF), or DoFs, are used to assign names to each DoF and to apply the required boundary conditions (<code>bcs</code>) and elements (<code>elements</code>). The block of code defining the DoFs is presented below as <code>dofs</code>:</p>
<pre><code>&quot;dofs&quot;:{
        &quot;names&quot;:[&quot;dof-a&quot;,&quot;dof-b&quot;,&quot;dof-c&quot;,...,&quot;dof-x&quot;]
    }
</code></pre>
<h2 id="options">Options</h2>
<p>The <code>dofs</code> block includes an option called names, which is used to specify the name of each degree of freedom. It is important to note that the order in which the names are listed corresponds to the index of each degree of freedom. For example, in a 2D elastic analysis, two displacement degrees of freedom are required, namely <code>disp_x</code> and <code>disp_y</code>. The <code>dofs</code> block should thus be defined as follows:</p>
<pre><code>&quot;dofs&quot;:{
        &quot;names&quot;:[&quot;disp_x&quot;,&quot;disp_y&quot;]
    }
</code></pre>
<p>In this specific case, <code>disp_x</code> is assigned as the first degree of freedom with an index of 1, while <code>disp_y</code> is assigned as the second degree of freedom with an index of 2. Note that the only option available in the <code>dofs</code> block is <code>names</code>, with no additional options</p>
<p>Since the Poisson equation involves only a single degree of freedom, the final expression for the <code>dofs</code> block is as follows</p>
<pre><code>&quot;dofs&quot;:{
        &quot;names&quot;:[&quot;phi&quot;]
    }
</code></pre>
<h1 id="element-for-poisson-equation">Element for Poisson equation</h1>
<p>With the degree of freedom established, we now need to define the model in Eq.<span class="arithmatex">\(\eqref{eq:poisson}\)</span>. To accomplish this, we use the <code>elements</code> block, which is defined as follows:</p>
<pre><code>&quot;elements&quot;:{
        &quot;elmt1&quot;:{
            &quot;type&quot;:&quot;poisson&quot;,
            &quot;dofs&quot;:[&quot;phi&quot;],
            &quot;material&quot;:{
                &quot;type&quot;:&quot;constpoisson&quot;,
                &quot;parameters&quot;:{
                    &quot;sigma&quot;:1.0,
                    &quot;f&quot;:1.0e1
                }
            }
        }
    }
</code></pre>
<p>The <code>type</code> option specifies the element or model to be used, which may be one of the built-in elements in AsFem or a user-defined element (<code>UEL</code>). The degrees of freedom to be used in the element are defined by the <code>dofs</code> option, while the material option specifies the name of the material sub-block to be used. Once the <code>elements</code> block is defined, the model described in Eq.<span class="arithmatex">\(\eqref{eq:poisson}\)</span> is complete.</p>
<h2 id="material-properties">Material properties</h2>
<p>The coefficients <span class="arithmatex">\(k\)</span> and <span class="arithmatex">\(F\)</span>, which correspond to the material properties in Eq.<span class="arithmatex">\(\eqref{eq:poisson}\)</span>, can be calculated or defined using the <code>material</code> sub-block, as shown below:</p>
<pre><code>&quot;material&quot;:{
                &quot;type&quot;:&quot;constpoisson&quot;,
                &quot;parameters&quot;:{
                    &quot;sigma&quot;:1.0,
                    &quot;f&quot;:1.0e1
                }
            }
</code></pre>
<p>The <code>material</code> sub-block includes the <code>type</code> option, which specifies the name of the material type defined in AsFem. The parameters option is used to define the parameters that will be used in our model. In this case, we will use <span class="arithmatex">\(\sigma=1.0\)</span> and <span class="arithmatex">\(f=10.0\)</span></p>
<h1 id="boundary-conditions">Boundary conditions</h1>
<p>The boundary conditions described in Eq.<span class="arithmatex">\(\eqref{eq:dirichlet}\)</span> and <span class="arithmatex">\(\eqref{eq:neumann}\)</span> can be applied using the <code>bcs</code> block. In our case, the Neumann boundary condition in Eq.<span class="arithmatex">\(\eqref{eq:neumann}\)</span> is zero, and thus, only the Dirichlet boundary condition needs to be taken into account:</p>
<pre><code>&quot;bcs&quot;:{
        &quot;left&quot;:{
            &quot;type&quot;:&quot;dirichlet&quot;,
            &quot;dofs&quot;:[&quot;phi&quot;],
            &quot;bcvalue&quot;:0.1,
            &quot;side&quot;:[&quot;left&quot;]
        },
        &quot;right&quot;:{
            &quot;type&quot;:&quot;dirichlet&quot;,
            &quot;dofs&quot;:[&quot;phi&quot;],
            &quot;bcvalue&quot;:0.5,
            &quot;side&quot;:[&quot;right&quot;]
        }
    }
</code></pre>
<p>The <code>left</code> and <code>right</code> sub-block is used to specify different boundary conditions for the left and right boundaries. The <code>type</code> option within each sub-block is used to specify the type of boundary condition, which is supported by AsFem. The <code>dof</code> option denotes the name of the DoF to which the given boundary conditions will be applied. In our case, we constrain the value of <span class="arithmatex">\(\phi\)</span> on the left and right sides of a rectangular domain to be 0.1 and 0.5, respectively.</p>
<h1 id="static-analysis">Static analysis</h1>
<p>Now that the model and boundary conditions have been defined, we are ready to begin the FEM calculation. To specify the type of analysis we want to perform, we use the <code>job</code> block. In this case, since we are conducting a static analysis, the block can be defined as follows:</p>
<pre><code>&quot;job&quot;:{
        &quot;type&quot;:&quot;static&quot;,
        &quot;print&quot;:&quot;on&quot;,
    }
</code></pre>
<p>If you want to observe how the iteration information changes during the analysis, you can use the following:</p>
<pre><code>&quot;job&quot;:{
        &quot;type&quot;:&quot;static&quot;,
        &quot;print&quot;:&quot;dep&quot;,
        &quot;restart&quot;:true
    }
</code></pre>
<p>The <code>print</code> option is used to enable basic information output in the terminal. If you prefer to see fewer outputs, you can use <code>"print":"off"</code>.</p>
<h1 id="run-it-in-asfem">Run it in AsFem</h1>
<p>To proceed with the second example in AsFem, create a new text file and name it <code>step2.json</code>, or a name of your choosing. Next, copy the following lines into your input file:</p>
<pre><code>{
    &quot;mesh&quot;:{
        &quot;type&quot;:&quot;asfem&quot;,
        &quot;dim&quot;:2,
        &quot;nx&quot;:50,
        &quot;ny&quot;:50,
        &quot;meshtype&quot;:&quot;quad4&quot;,
        &quot;savemesh&quot;:true
    },
    &quot;dofs&quot;:{
        &quot;names&quot;:[&quot;phi&quot;]
    },
    &quot;elements&quot;:{
        &quot;elmt1&quot;:{
            &quot;type&quot;:&quot;poisson&quot;,
            &quot;dofs&quot;:[&quot;phi&quot;],
            &quot;material&quot;:{
                &quot;type&quot;:&quot;constpoisson&quot;,
                &quot;parameters&quot;:{
                    &quot;sigma&quot;:1.0,
                    &quot;f&quot;:1.0e1
                }
            }
        }
    },
    &quot;projection&quot;:{
        &quot;type&quot;:&quot;default&quot;,
        &quot;vectormate&quot;:[&quot;gradu&quot;]
    },
    &quot;bcs&quot;:{
        &quot;left&quot;:{
            &quot;type&quot;:&quot;dirichlet&quot;,
            &quot;dofs&quot;:[&quot;phi&quot;],
            &quot;bcvalue&quot;:0.1,
            &quot;side&quot;:[&quot;left&quot;]
        },
        &quot;right&quot;:{
            &quot;type&quot;:&quot;dirichlet&quot;,
            &quot;dofs&quot;:[&quot;phi&quot;],
            &quot;bcvalue&quot;:0.5,
            &quot;side&quot;:[&quot;right&quot;]
        }
    },
    &quot;nlsolver&quot;:{
        &quot;type&quot;:&quot;newton&quot;,
        &quot;solver&quot;:&quot;gmres&quot;,
        &quot;maxiters&quot;:50,
        &quot;abs-tolerance&quot;:5.0e-7,
        &quot;rel-tolerance&quot;:5.0e-10,
        &quot;s-tolerance&quot;:0.0,
        &quot;preconditioner&quot;:&quot;jacobi&quot;
    },
    &quot;output&quot;:{
        &quot;type&quot;:&quot;vtu&quot;,
        &quot;interval&quot;:1
    },
    &quot;qpoints&quot;:{
        &quot;bulk&quot;:{
            &quot;type&quot;:&quot;gauss-legendre&quot;,
            &quot;order&quot;:2
        }
    },
    &quot;job&quot;:{
        &quot;type&quot;:&quot;static&quot;,
        &quot;print&quot;:&quot;dep&quot;,
        &quot;restart&quot;:true
    }
}
</code></pre>
<p>You can also find the complete input file in <code>examples/tutorial</code>.</p>
<p>If everything goes well, you can see the following image in your <a href="https://www.paraview.org/download/">Paraview</a>:
<img alt="" src="step2.jpeg" /></p>
<p>Wait a second, what should I do if I want to solve a Poisson equation in 3D?</p>
<p>The solution is straightforward - you just need to modify your mesh to be 3D. Here is an example of how you can do this using the input file <code>step2-3d.json</code>:</p>
<pre><code>&quot;mesh&quot;:{
        &quot;type&quot;:&quot;asfem&quot;,
        &quot;dim&quot;:3,
        &quot;nx&quot;:50,
        &quot;ny&quot;:50,
        &quot;nz&quot;:50,
        &quot;meshtype&quot;:&quot;hex8&quot;,
        &quot;savemesh&quot;:true
    }
</code></pre>
<p>then you will see:
<img alt="" src="step2-3d.jpeg" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 - 2024 Yang Bai/MM-Lab
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.e1c3ead8.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>